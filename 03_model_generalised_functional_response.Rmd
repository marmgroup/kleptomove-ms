---
output: html_document
editor_options: 
  chunk_output_type: console
---

# Ecology: Intake in relation to individuals and items

We fit a GLM with per-capita intake rate as the response, and items and individuals as the predictors, and extract the coefficients (and p-values) of each for every regrowth rate and simulation type.

## Get libraries

```{r}
# load libs
library(ggplot2)
library(data.table)
library(colorspace)
library(patchwork)
```

## Load data and split

```{r}
# read in data
data <- fread("data/results/data_funresp_small.csv")
```

```{r}
# get functional response following figure 1 van der meer and ens
# average over cells with same number of individuals but nothing else

data_funresp <- data[variable != "pc_intake_total", ][, list(
  meanv = mean(value),
  sdv = sd(value)
),
by = c(
  "sim_type", "replicate", "gen",
  "regrowth",
  "total_agents", "variable"
)
]
```

```{r}
# save data
fwrite(data_funresp, 
       "data/results/data_funresp_vdmens.csv")
```

